<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    </head>
    <body>
        <script src="a/recursos/jquery/jquery.min.js"></script>
        <script src="a/recursos/moment/moment.js"></script>
        <script src="https://rawgithub.com/gf3/moment-range/v0.1.7/lib/moment-range.js"></script>
        <script>

/*function sameMonth (a, b, other) {
    if (a.month() !== b.month()) {
        return other;
    }
    return a.date();
}

function weeks (m) {
    var lastOfMonth     = m.clone().endOf('month'),
        lastOfMonthDate = lastOfMonth.date(),
        firstOfMonth    = m.clone().startOf('month'),
        currentWeek     = firstOfMonth.clone().day(0),
        output          = [],
        startOfWeek,
        endOfWeek;

    while (currentWeek < lastOfMonth) {
        startOfWeek = sameMonth(currentWeek.clone().day(0), firstOfMonth, 1);
        endOfWeek = sameMonth(currentWeek.clone().day(6), firstOfMonth, lastOfMonthDate);
        
        output.push(startOfWeek + '-' + endOfWeek);
        currentWeek.add(7, 'd');
    }
    
    return output;
}
            console.log(weeks(moment('2017-01-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-02-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-03-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-04-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-05-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-06-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-07-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-08-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-09-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-10-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-11-01', 'YYYY-MM-DD')).join(' , '));
            console.log(weeks(moment('2017-12-01', 'YYYY-MM-DD')).join(' , '));
     */       
        
console.log( Math.max(moment(new Date(2017, 11, 31)).isoWeek(),moment(new Date(2017, 11, 31-7)).isoWeek()));
var year = 2018;
var week = 1;
var startDate = moment([year, 5, 30]).isoWeek(week).startOf('isoweek'); 
var endDate = moment(startDate).endOf('isoweek');
console.log(startDate.format('DD.MM.YYYY')); // = '04.01.2016'
console.log(endDate.format('DD.MM.YYYY')); // = '10.01.2016'

        </script>        
    </body>
</html>